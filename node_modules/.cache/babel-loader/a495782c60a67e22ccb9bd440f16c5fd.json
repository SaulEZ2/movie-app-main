{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useCallback, useRef } from \"react\";\n\nconst useInfiniteScroll = (callback, loading, end) => {\n  _s();\n\n  const observer = useRef();\n  const lastElementRef = useCallback(node => {\n    if (loading) return;\n    if (observer.current) observer.current.disconnect();\n    observer.current = new IntersectionObserver(entries => {\n      if (entries[0].isIntersecting && end) {\n        callback();\n      }\n    }, {\n      threshold: 0.5\n    });\n    if (node) observer.current.observe(node);\n  }, [loading, end, callback]);\n  return lastElementRef;\n};\n\n_s(useInfiniteScroll, \"/6UHImnA940kCT/RoBFYL9aytm8=\");\n\nexport { useInfiniteScroll };","map":{"version":3,"names":["useCallback","useRef","useInfiniteScroll","callback","loading","end","observer","lastElementRef","node","current","disconnect","IntersectionObserver","entries","isIntersecting","threshold","observe"],"sources":["C:/Users/sauls.DESKTOP-PNDI2L9/OneDrive/Escritorio/movie-app-main/src/hooks/useInfiniteScroll.ts"],"sourcesContent":["import { useCallback, useRef } from \"react\";\n\nconst useInfiniteScroll = (callback: () => void, loading: boolean, end: boolean) => {\n  const observer = useRef() as React.MutableRefObject<IntersectionObserver>;\n  const lastElementRef = useCallback(\n    (node: HTMLDivElement) => {\n      if (loading) return;\n      if (observer.current) observer.current.disconnect();\n      observer.current = new IntersectionObserver(\n        (entries) => {\n          if (entries[0].isIntersecting && end) {\n            callback();\n          }\n        },\n        { threshold: 0.5 }\n      );\n      if (node) observer.current.observe(node);\n    },\n    [loading, end, callback]\n  );\n\n  return lastElementRef\n}\n\nexport { useInfiniteScroll };"],"mappings":";;AAAA,SAASA,WAAT,EAAsBC,MAAtB,QAAoC,OAApC;;AAEA,MAAMC,iBAAiB,GAAG,CAACC,QAAD,EAAuBC,OAAvB,EAAyCC,GAAzC,KAA0D;EAAA;;EAClF,MAAMC,QAAQ,GAAGL,MAAM,EAAvB;EACA,MAAMM,cAAc,GAAGP,WAAW,CAC/BQ,IAAD,IAA0B;IACxB,IAAIJ,OAAJ,EAAa;IACb,IAAIE,QAAQ,CAACG,OAAb,EAAsBH,QAAQ,CAACG,OAAT,CAAiBC,UAAjB;IACtBJ,QAAQ,CAACG,OAAT,GAAmB,IAAIE,oBAAJ,CAChBC,OAAD,IAAa;MACX,IAAIA,OAAO,CAAC,CAAD,CAAP,CAAWC,cAAX,IAA6BR,GAAjC,EAAsC;QACpCF,QAAQ;MACT;IACF,CALgB,EAMjB;MAAEW,SAAS,EAAE;IAAb,CANiB,CAAnB;IAQA,IAAIN,IAAJ,EAAUF,QAAQ,CAACG,OAAT,CAAiBM,OAAjB,CAAyBP,IAAzB;EACX,CAb+B,EAchC,CAACJ,OAAD,EAAUC,GAAV,EAAeF,QAAf,CAdgC,CAAlC;EAiBA,OAAOI,cAAP;AACD,CApBD;;GAAML,iB;;AAsBN,SAASA,iBAAT"},"metadata":{},"sourceType":"module"}