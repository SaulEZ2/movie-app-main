{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sauls.DESKTOP-PNDI2L9\\\\OneDrive\\\\Escritorio\\\\movie-app-main\\\\src\\\\pages\\\\favorites\\\\index.tsx\",\n    _s = $RefreshSig$();\n\nimport { useNavigate } from \"react-router-dom\";\nimport { useCallback, useContext, useEffect } from \"react\";\nimport { Back, Card, Loader, Preview } from \"components\";\nimport { useGetItemsAPI, useInfiniteScroll } from \"hooks\";\nimport { UserContext } from \"context\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Favorites = () => {\n  _s();\n\n  const navigate = useNavigate();\n  const {\n    language,\n    sessionId,\n    texts,\n    user\n  } = useContext(UserContext);\n  const [favorites, loadingFavorites, getFavorites, getMoreFavorites, hasMore] = useGetItemsAPI({\n    initialValue: [],\n    destruct: \"results\",\n    msg: texts.errors.errorGet\n  });\n  const lastMovieElementRef = useInfiniteScroll(() => getMoreFavorites(`/account/${user.id}/favorite/movies`, {\n    session_id: sessionId,\n    language,\n    include_image_language: language\n  }), loadingFavorites, hasMore);\n  const initialRequest = useCallback(async lang => {\n    await getFavorites(`/account/${user.id}/favorite/movies`, {\n      session_id: sessionId,\n      language: lang,\n      include_image_language: lang\n    });\n  }, []);\n  useEffect(() => {\n    if (!sessionId) navigate(\"/login\");\n    initialRequest(language);\n  }, [sessionId, language]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Back, {\n      button: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Preview, {\n      title: texts.favorites.title,\n      grid: true,\n      children: favorites.length > 0 ? favorites.map((_ref, i) => {\n        let {\n          adult,\n          id,\n          overview,\n          title,\n          poster_path,\n          vote_average\n        } = _ref;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: i === favorites.length - 1 ? lastMovieElementRef : null,\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            id: id,\n            adult: adult,\n            title: title,\n            overview: overview,\n            link: `/movie/${id}`,\n            voteAverage: vote_average,\n            img: poster_path\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 8\n          }, this)\n        }, id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 7\n        }, this);\n      }) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: !loadingFavorites && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"center\",\n          children: texts.infiniteScroll.noResults\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 30\n        }, this)\n      }, void 0, false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 4\n    }, this), loadingFavorites && /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 25\n    }, this), !hasMore && !loadingFavorites && favorites.length > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"center\",\n      children: texts.infiniteScroll.limit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Favorites, \"+oHCTtLYmHyqA18etMRh9NLqEeE=\", false, function () {\n  return [useNavigate, useGetItemsAPI, useInfiniteScroll];\n});\n\n_c = Favorites;\nexport { Favorites };\n\nvar _c;\n\n$RefreshReg$(_c, \"Favorites\");","map":{"version":3,"names":["useNavigate","useCallback","useContext","useEffect","Back","Card","Loader","Preview","useGetItemsAPI","useInfiniteScroll","UserContext","Favorites","navigate","language","sessionId","texts","user","favorites","loadingFavorites","getFavorites","getMoreFavorites","hasMore","initialValue","destruct","msg","errors","errorGet","lastMovieElementRef","id","session_id","include_image_language","initialRequest","lang","title","length","map","i","adult","overview","poster_path","vote_average","infiniteScroll","noResults","limit"],"sources":["C:/Users/sauls.DESKTOP-PNDI2L9/OneDrive/Escritorio/movie-app-main/src/pages/favorites/index.tsx"],"sourcesContent":["import { useNavigate } from \"react-router-dom\";\nimport { useCallback, useContext, useEffect } from \"react\";\nimport { Back, Card, Loader, Preview } from \"components\";\nimport { useGetItemsAPI, useInfiniteScroll } from \"hooks\";\nimport { UserContext } from \"context\";\n\nconst Favorites = () => {\n\tconst navigate = useNavigate();\n\tconst { language, sessionId, texts, user } = useContext(UserContext);\n\tconst [favorites, loadingFavorites, getFavorites, getMoreFavorites, hasMore] = useGetItemsAPI({\n\t\tinitialValue: [],\n\t\tdestruct: \"results\",\n\t\tmsg: texts.errors.errorGet,\n\t});\n\tconst lastMovieElementRef = useInfiniteScroll(\n\t\t() =>\n\t\t\tgetMoreFavorites(`/account/${user.id}/favorite/movies`, {\n\t\t\t\tsession_id: sessionId,\n\t\t\t\tlanguage,\n\t\t\t\tinclude_image_language: language,\n\t\t\t}),\n\t\tloadingFavorites,\n\t\thasMore\n\t);\n\n\tconst initialRequest = useCallback(async (lang: string) => {\n\t\tawait getFavorites(`/account/${user.id}/favorite/movies`, {\n\t\t\tsession_id: sessionId,\n\t\t\tlanguage: lang,\n\t\t\tinclude_image_language: lang,\n\t\t});\n\t}, []); \n\n\tuseEffect(() => {\n\t\tif (!sessionId) navigate(\"/login\");\n\t\tinitialRequest(language);\n\t}, [sessionId, language]); \n\n\treturn (\n\t\t<>\n\t\t\t<Back button />\n\t\t\t<Preview title={texts.favorites.title} grid>\n\t\t\t\t{favorites.length > 0 ? (\n\t\t\t\t\tfavorites.map(({ adult, id, overview, title, poster_path, vote_average }, i) => (\n\t\t\t\t\t\t<div key={id} ref={i === favorites.length - 1 ? lastMovieElementRef : null}>\n\t\t\t\t\t\t\t<Card\n\t\t\t\t\t\t\t\tid={id}\n\t\t\t\t\t\t\t\tadult={adult}\n\t\t\t\t\t\t\t\ttitle={title}\n\t\t\t\t\t\t\t\toverview={overview}\n\t\t\t\t\t\t\t\tlink={`/movie/${id}`}\n\t\t\t\t\t\t\t\tvoteAverage={vote_average}\n\t\t\t\t\t\t\t\timg={poster_path}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t))\n\t\t\t\t) : (\n\t\t\t\t\t<>{!loadingFavorites && <p className=\"center\">{texts.infiniteScroll.noResults}</p>}</>\n\t\t\t\t)}\n\t\t\t</Preview>\n\t\t\t{loadingFavorites && <Loader />}\n\t\t\t{!hasMore && !loadingFavorites && favorites.length > 0 && (\n\t\t\t\t<p className=\"center\">{texts.infiniteScroll.limit}</p>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport { Favorites };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}