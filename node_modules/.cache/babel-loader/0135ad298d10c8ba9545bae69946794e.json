{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sauls.DESKTOP-PNDI2L9\\\\OneDrive\\\\Escritorio\\\\PRUEBA CLONACION DE REPOSITORIO REACT\\\\movie-app-main\\\\src\\\\pages\\\\movie\\\\index.tsx\",\n    _s = $RefreshSig$();\n\nimport { useContext, useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { useGetItemAPI, useGetItemsAPI } from \"hooks\";\nimport { Banner, Loader, Preview, Slide, SlideActor, Slideshow } from \"components\";\nimport styles from \"./movie.module.scss\";\nimport { UserContext } from \"context\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Movie = () => {\n  _s();\n\n  const {\n    id\n  } = useParams();\n  const {\n    language,\n    sessionId,\n    texts\n  } = useContext(UserContext);\n  const [movie, setMovie] = useState();\n  const [loadingMovie, getMovie] = useGetItemAPI({\n    path: `/movie/${id}`,\n    msg: texts.errors.errorGet\n  });\n  const [videos, loadingVideos, getVideos] = useGetItemsAPI({\n    initialValue: [],\n    destruct: \"results\",\n    msg: texts.errors.errorGet\n  });\n  const [cast, loadingCast, getCast] = useGetItemsAPI({\n    initialValue: [],\n    destruct: \"cast\",\n    msg: texts.errors.errorGet\n  });\n  const [related, loadingRelated, getRelated] = useGetItemsAPI({\n    initialValue: [],\n    destruct: \"results\",\n    msg: texts.errors.errorGet\n  });\n  const trailer = videos === null || videos === void 0 ? void 0 : videos.find(video => video.type === \"Trailer\");\n\n  const initialRequest = async lang => {\n    const data = await getMovie({\n      language: lang,\n      include_image_language: lang\n    });\n    setMovie(data);\n    getVideos(`/movie/${id}/videos`, {\n      language: lang\n    });\n    getCast(`/movie/${id}/credits`, {\n      language: lang\n    });\n    getRelated(`/movie/${id}/similar`, {\n      language: lang\n    });\n  };\n\n  useEffect(() => {\n    initialRequest(language);\n  }, [id, language]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Banner, {\n      id: parseInt(id, 10),\n      adult: movie && movie.adult,\n      backdrop: movie && movie.backdrop_path,\n      loading: loadingMovie,\n      genres: movie && movie.genres,\n      overview: movie && movie.overview,\n      sessionId: sessionId,\n      title: movie && movie.title,\n      voteAverage: movie && movie.vote_average,\n      children: [/*#__PURE__*/_jsxDEV(Preview, {\n        title: texts.movie.cast,\n        children: /*#__PURE__*/_jsxDEV(Slideshow, {\n          loading: loadingCast,\n          speed: 1000,\n          slideAll: true,\n          children: cast.filter(actor => actor.profile_path).map(_ref => {\n            let {\n              adult,\n              id,\n              character,\n              name,\n              popularity,\n              profile_path\n            } = _ref;\n            return /*#__PURE__*/_jsxDEV(SlideActor, {\n              id: id,\n              adult: adult,\n              name: name,\n              character: character,\n              link: `/actor/${id}`,\n              popularity: popularity,\n              img: profile_path\n            }, id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 9\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 5\n      }, this), trailer && /*#__PURE__*/_jsxDEV(Preview, {\n        title: texts.movie.trailer,\n        children: loadingVideos ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 8\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.trailer,\n          children: /*#__PURE__*/_jsxDEV(\"iframe\", {\n            title: trailer.name,\n            src: `https://www.youtube.com/embed/${trailer === null || trailer === void 0 ? void 0 : trailer.key}`,\n            frameBorder: 0,\n            allow: \"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\",\n            allowFullScreen: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 8\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 6\n      }, this), related.length > 0 && /*#__PURE__*/_jsxDEV(Preview, {\n        title: texts.movie.related,\n        children: /*#__PURE__*/_jsxDEV(Slideshow, {\n          loading: loadingRelated,\n          speed: 1000,\n          slideAll: true,\n          children: related.map(_ref2 => {\n            let {\n              adult,\n              id,\n              overview,\n              title,\n              poster_path,\n              vote_average\n            } = _ref2;\n            return /*#__PURE__*/_jsxDEV(Slide, {\n              id: id,\n              adult: adult,\n              title: title,\n              overview: overview,\n              link: `/movie/${id}`,\n              voteAverage: vote_average,\n              img: poster_path,\n              slide: true\n            }, id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 9\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 4\n    }, this)\n  }, void 0, false);\n};\n\n_s(Movie, \"VGMl+zbbHD0zdopDdLrO0y7El90=\", false, function () {\n  return [useParams, useGetItemAPI, useGetItemsAPI, useGetItemsAPI, useGetItemsAPI];\n});\n\n_c = Movie;\nexport { Movie };\n\nvar _c;\n\n$RefreshReg$(_c, \"Movie\");","map":{"version":3,"names":["useContext","useEffect","useState","useParams","useGetItemAPI","useGetItemsAPI","Banner","Loader","Preview","Slide","SlideActor","Slideshow","styles","UserContext","Movie","id","language","sessionId","texts","movie","setMovie","loadingMovie","getMovie","path","msg","errors","errorGet","videos","loadingVideos","getVideos","initialValue","destruct","cast","loadingCast","getCast","related","loadingRelated","getRelated","trailer","find","video","type","initialRequest","lang","data","include_image_language","parseInt","adult","backdrop_path","genres","overview","title","vote_average","filter","actor","profile_path","map","character","name","popularity","key","length","poster_path"],"sources":["C:/Users/sauls.DESKTOP-PNDI2L9/OneDrive/Escritorio/PRUEBA CLONACION DE REPOSITORIO REACT/movie-app-main/src/pages/movie/index.tsx"],"sourcesContent":["import { useContext, useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { useGetItemAPI, useGetItemsAPI } from \"hooks\";\nimport { Banner, Loader, Preview, Slide, SlideActor, Slideshow } from \"components\";\nimport styles from \"./movie.module.scss\";\nimport { UserContext } from \"context\";\n\nconst Movie = () => {\n\tconst { id } = useParams();\n\tconst { language, sessionId, texts } = useContext(UserContext);\n\tconst [movie, setMovie] = useState<any>();\n\tconst [loadingMovie, getMovie] = useGetItemAPI({\n\t\tpath: `/movie/${id}`,\n\t\tmsg: texts.errors.errorGet,\n\t});\n\tconst [videos, loadingVideos, getVideos] = useGetItemsAPI({\n\t\tinitialValue: [],\n\t\tdestruct: \"results\",\n\t\tmsg: texts.errors.errorGet,\n\t});\n\tconst [cast, loadingCast, getCast] = useGetItemsAPI({\n\t\tinitialValue: [],\n\t\tdestruct: \"cast\",\n\t\tmsg: texts.errors.errorGet,\n\t});\n\tconst [related, loadingRelated, getRelated] = useGetItemsAPI({\n\t\tinitialValue: [],\n\t\tdestruct: \"results\",\n\t\tmsg: texts.errors.errorGet,\n\t});\n\tconst trailer = videos?.find((video) => video.type === \"Trailer\");\n\n\tconst initialRequest = async (lang: string) => {\n\t\tconst data = await getMovie({ language: lang, include_image_language: lang });\n\t\tsetMovie(data);\n\t\tgetVideos(`/movie/${id}/videos`, { language: lang });\n\t\tgetCast(`/movie/${id}/credits`, { language: lang });\n\t\tgetRelated(`/movie/${id}/similar`, { language: lang });\n\t};\n\n\tuseEffect(() => {\n\t\tinitialRequest(language);\n\t}, [id, language]); // eslint-disable-line react-hooks/exhaustive-deps\n\n\treturn (\n\t\t<>\n\t\t\t<Banner\n\t\t\t\tid={parseInt(id as string, 10)}\n\t\t\t\tadult={movie && movie.adult}\n\t\t\t\tbackdrop={movie && movie.backdrop_path}\n\t\t\t\tloading={loadingMovie}\n\t\t\t\tgenres={movie && movie.genres}\n\t\t\t\toverview={movie && movie.overview}\n\t\t\t\tsessionId={sessionId}\n\t\t\t\ttitle={movie && movie.title}\n\t\t\t\tvoteAverage={movie && movie.vote_average}\n\t\t\t>\n\t\t\t\t<Preview title={texts.movie.cast}>\n\t\t\t\t\t<Slideshow loading={loadingCast} speed={1000} slideAll>\n\t\t\t\t\t\t{cast\n\t\t\t\t\t\t\t.filter((actor) => actor.profile_path)\n\t\t\t\t\t\t\t.map(({ adult, id, character, name, popularity, profile_path }) => (\n\t\t\t\t\t\t\t\t<SlideActor\n\t\t\t\t\t\t\t\t\tid={id}\n\t\t\t\t\t\t\t\t\tadult={adult}\n\t\t\t\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\t\t\t\tname={name}\n\t\t\t\t\t\t\t\t\tcharacter={character}\n\t\t\t\t\t\t\t\t\tlink={`/actor/${id}`}\n\t\t\t\t\t\t\t\t\tpopularity={popularity}\n\t\t\t\t\t\t\t\t\timg={profile_path}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t</Slideshow>\n\t\t\t\t</Preview>\n\t\t\t\t{trailer && (\n\t\t\t\t\t<Preview title={texts.movie.trailer}>\n\t\t\t\t\t\t{loadingVideos ? (\n\t\t\t\t\t\t\t<Loader />\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<div className={styles.trailer}>\n\t\t\t\t\t\t\t\t<iframe\n\t\t\t\t\t\t\t\t\ttitle={trailer.name}\n\t\t\t\t\t\t\t\t\tsrc={`https://www.youtube.com/embed/${trailer?.key}`}\n\t\t\t\t\t\t\t\t\tframeBorder={0}\n\t\t\t\t\t\t\t\t\tallow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\"\n\t\t\t\t\t\t\t\t\tallowFullScreen\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Preview>\n\t\t\t\t)}\n\t\t\t\t{related.length > 0 && (\n\t\t\t\t\t<Preview title={texts.movie.related}>\n\t\t\t\t\t\t<Slideshow loading={loadingRelated} speed={1000} slideAll>\n\t\t\t\t\t\t\t{related.map(({ adult, id, overview, title, poster_path, vote_average }) => (\n\t\t\t\t\t\t\t\t<Slide\n\t\t\t\t\t\t\t\t\tid={id}\n\t\t\t\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\t\t\t\tadult={adult}\n\t\t\t\t\t\t\t\t\ttitle={title}\n\t\t\t\t\t\t\t\t\toverview={overview}\n\t\t\t\t\t\t\t\t\tlink={`/movie/${id}`}\n\t\t\t\t\t\t\t\t\tvoteAverage={vote_average}\n\t\t\t\t\t\t\t\t\timg={poster_path}\n\t\t\t\t\t\t\t\t\tslide\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Slideshow>\n\t\t\t\t\t</Preview>\n\t\t\t\t)}\n\t\t\t</Banner>\n\t\t</>\n\t);\n};\n\nexport { Movie };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}